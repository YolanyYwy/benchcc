# ğŸš€ Tau2-CL å‘½ä»¤é€ŸæŸ¥è¡¨

## ä¸€é”®å¼€å§‹

```bash
# æœ€å¿«ä¸Šæ‰‹ï¼ˆ5åˆ†é’Ÿï¼‰
python scripts/quick_experiment.py quick-test --domain airline --num-tasks 10

# æ¼”ç¤ºè„šæœ¬
demo_commands.bat        # Windows
bash demo_commands.sh    # Linux/Mac
```

---

## ğŸ“‹ æ•°æ®ç®¡ç†å‘½ä»¤

```bash
# éªŒè¯æ•°æ®
tau2 cl-validate-data data/tau2/domains/airline/tasks.json
tau2 cl-validate-data data/tau2/domains/  # éªŒè¯æ‰€æœ‰

# æŸ¥çœ‹æ•°æ®ç»Ÿè®¡
tau2 cl-data-requirements --domains airline retail telecom

# ç”Ÿæˆè®­ç»ƒ/æµ‹è¯•åˆ’åˆ†
tau2 cl-generate-splits \
    --domains airline retail \
    --strategy sequential \
    --train-ratio 0.7 \
    --num-phases 3 \
    --output-dir data/tau2/cl_splits
```

---

## ğŸ”¬ å®éªŒè¿è¡Œå‘½ä»¤

### åŸºç¡€å®éªŒ
```bash
# æœ€å°é…ç½®
tau2 cl-run --name my_exp --domains airline --agent-type icl_er

# å®Œæ•´é…ç½®
tau2 cl-run \
    --name my_experiment \
    --domains airline retail \
    --curriculum sequential \
    --agent-type icl_er \
    --agent-llm gpt-4o-mini \
    --user-llm gpt-4o-mini \
    --num-tasks 50 \
    --eval-frequency 10 \
    --max-examples 5 \
    --buffer-size 1000 \
    --output-dir ./experiments/my_experiment \
    --seed 42
```

### ä½¿ç”¨é…ç½®æ–‡ä»¶
```bash
tau2 cl-run --config configs/cl_experiments/my_config.yaml
```

### Python API
```python
from tau2.continual_learning import CLOrchestrator, CLExperimentConfig

config = CLExperimentConfig(
    name="my_experiment",
    domains=["airline", "retail"],
    agent_type="ICL_ER",
    curriculum_strategy="SEQUENTIAL",
    num_tasks_per_domain=50,
)

orchestrator = CLOrchestrator(config)
result = orchestrator.run()
```

---

## ğŸ“Š ç»“æœåˆ†æå‘½ä»¤

```bash
# åˆ†æå•ä¸ªå®éªŒ
tau2 cl-analyze experiments/my_experiment/results.json

# å¯¹æ¯”å¤šä¸ªå®éªŒ
python scripts/compare_experiments.py \
    experiments/exp1 \
    experiments/exp2 \
    experiments/exp3
```

---

## ğŸ¯ å¸¸ç”¨å®éªŒæ¨¡æ¿

### å¿«é€Ÿæµ‹è¯•ï¼ˆ10ä¸ªä»»åŠ¡ï¼Œ3åˆ†é’Ÿï¼‰
```bash
tau2 cl-run \
    --name quick_test \
    --domains airline \
    --agent-type icl_er \
    --num-tasks 10 \
    --eval-frequency 3
```

### å•domainå®éªŒï¼ˆ50ä¸ªä»»åŠ¡ï¼‰
```bash
tau2 cl-run \
    --name airline_exp \
    --domains airline \
    --agent-type icl_er \
    --num-tasks 50 \
    --eval-frequency 10
```

### å¤šdomainå®éªŒï¼ˆæ¯ä¸ª50ä»»åŠ¡ï¼‰
```bash
tau2 cl-run \
    --name multi_domain \
    --domains airline retail telecom \
    --curriculum sequential \
    --agent-type icl_er \
    --num-tasks 50 \
    --eval-frequency 10
```

### å¯¹æ¯”å®éªŒï¼ˆ3ç§æ–¹æ³•ï¼‰
```bash
# è¿è¡Œ3ä¸ªæ–¹æ³•
for agent in icl_er prompt_strategy baseline; do
    tau2 cl-run --name ${agent}_exp --agent-type $agent --domains airline
done

# å¯¹æ¯”
python scripts/compare_experiments.py \
    experiments/icl_er_exp \
    experiments/prompt_strategy_exp \
    experiments/baseline_exp
```

---

## ğŸ”§ å‚æ•°é€ŸæŸ¥

### Agentç±»å‹ (--agent-type)
- `icl_er` - ä¸Šä¸‹æ–‡å­¦ä¹  + ç»éªŒå›æ”¾ï¼ˆæ¨èï¼‰
- `prompt_strategy` - æç¤ºç­–ç•¥
- `baseline` - æ— CLåŸºçº¿

### Curriculumç­–ç•¥ (--curriculum)
- `sequential` - é¡ºåºå­¦ä¹ ï¼ˆé»˜è®¤ï¼‰
- `interleaved` - äº¤é”™å­¦ä¹ 
- `difficulty` - åŸºäºéš¾åº¦

### Memoryé‡‡æ · (--sampling-strategy)
- `uniform` - å‡åŒ€é‡‡æ ·
- `reward_weighted` - æŒ‰å¥–åŠ±åŠ æƒ
- `diversity` - å¤šæ ·æ€§é‡‡æ ·ï¼ˆæ¨èï¼‰
- `similarity` - æŒ‰ç›¸ä¼¼åº¦
- `recency_weighted` - æŒ‰æ—¶é—´åŠ æƒ

### LLMæ¨¡å‹ (--agent-llm, --user-llm)
- `gpt-4o-mini` - å¿«é€Ÿä¸”ä¾¿å®œï¼ˆæ¨èï¼‰
- `gpt-4o` - é«˜æ€§èƒ½
- `gpt-4-turbo` - å¹³è¡¡
- `claude-3-5-sonnet-20241022` - Claude

---

## ğŸ“ å®éªŒè¾“å‡ºç»“æ„

```
experiments/your_experiment/
â”œâ”€â”€ config.json              # é…ç½®
â”œâ”€â”€ results.json             # ç»“æœ
â”œâ”€â”€ metrics/
â”‚   â”œâ”€â”€ accuracy_curve.png
â”‚   â”œâ”€â”€ forgetting_matrix.png
â”‚   â””â”€â”€ performance_matrix.png
â”œâ”€â”€ agent_state/
â”‚   â”œâ”€â”€ final_state.json
â”‚   â””â”€â”€ memory_buffer.json
â””â”€â”€ logs/
    â””â”€â”€ experiment.log
```

---

## ğŸ“ˆ å…³é”®æŒ‡æ ‡

```json
{
  "average_accuracy": 0.847,     // è¶Šé«˜è¶Šå¥½
  "forgetting_rate": 0.123,      // è¶Šä½è¶Šå¥½
  "forward_transfer": 0.056,     // è¶Šé«˜è¶Šå¥½
  "backward_transfer": -0.089    // è¶Šæ¥è¿‘0è¶Šå¥½
}
```

---

## ğŸ› ï¸ è¾…åŠ©è„šæœ¬

### quick_experiment.py
```bash
# å¿«é€Ÿæµ‹è¯•
python scripts/quick_experiment.py quick-test \
    --domain airline \
    --num-tasks 10

# å®Œæ•´å¯¹æ¯”
python scripts/quick_experiment.py full \
    --domains airline,retail \
    --num-tasks 50

# ç”Ÿæˆä»»åŠ¡æ¨¡æ¿
python scripts/quick_experiment.py generate \
    --domain airline \
    --num-tasks 50
```

### compare_experiments.py
```bash
python scripts/compare_experiments.py \
    experiments/exp1 \
    experiments/exp2 \
    [experiments/exp3 ...]
```

---

## ğŸ› å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

```bash
# å‘½ä»¤æ‰¾ä¸åˆ°
pip install -e .

# å®éªŒå¤ªæ…¢
--agent-llm gpt-4o-mini --num-tasks 20 --eval-frequency 20

# å†…å­˜ä¸è¶³
--buffer-size 500 --max-examples 3

# æŸ¥çœ‹å¸®åŠ©
tau2 cl-run --help
tau2 cl-info
```

---

## ğŸ“š æ–‡æ¡£å¿«é€Ÿé“¾æ¥

| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| **å¿«é€Ÿå¼€å§‹æŒ‡å—.md** | æ–°æ‰‹å®Œæ•´æ•™ç¨‹ |
| **CLå®éªŒå¿«é€Ÿå¼€å§‹.md** | å¿«é€Ÿå‚è€ƒ |
| **é¡¹ç›®å®Œæˆæ€»ç»“.md** | åŠŸèƒ½æ¸…å• |
| **continual_learning_workflow.md** | å®Œæ•´å·¥ä½œæµç¨‹ |

---

## âš¡ 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

```bash
# ç¬¬1æ­¥ï¼šéªŒè¯å®‰è£…ï¼ˆ30ç§’ï¼‰
tau2 cl-info

# ç¬¬2æ­¥ï¼šéªŒè¯æ•°æ®ï¼ˆ30ç§’ï¼‰
tau2 cl-validate-data data/tau2/domains/airline/tasks.json

# ç¬¬3æ­¥ï¼šè¿è¡Œå®éªŒï¼ˆ3åˆ†é’Ÿï¼‰
python scripts/quick_experiment.py quick-test --domain airline --num-tasks 10

# ç¬¬4æ­¥ï¼šæŸ¥çœ‹ç»“æœï¼ˆ1åˆ†é’Ÿï¼‰
tau2 cl-analyze experiments/quick_test_airline/results.json
```

---

## ğŸ¯ æ¨èå®éªŒåºåˆ—

### ç¬¬1å¤©ï¼šç†Ÿæ‚‰æµç¨‹
```bash
python scripts/quick_experiment.py quick-test --domain airline --num-tasks 10
```

### ç¬¬2å¤©ï¼šå¯¹æ¯”æ–¹æ³•
```bash
python scripts/quick_experiment.py full --domains airline --num-tasks 30
```

### ç¬¬3å¤©ï¼šå¤šdomain
```bash
tau2 cl-run --domains airline retail --num-tasks 50 --agent-type icl_er
```

### ç¬¬4å¤©ï¼šå®Œæ•´å®éªŒ
```bash
python scripts/quick_experiment.py full --domains airline,retail,telecom --num-tasks 100
```

---

## ğŸ’¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§

```bash
# æ›´å¿«çš„å®éªŒ
--agent-llm gpt-4o-mini          # ä½¿ç”¨å¿«é€Ÿæ¨¡å‹
--num-tasks 20                    # å‡å°‘ä»»åŠ¡æ•°
--eval-frequency 20               # é™ä½è¯„ä¼°é¢‘ç‡

# æ›´å¥½çš„æ€§èƒ½
--agent-llm gpt-4o                # ä½¿ç”¨é«˜æ€§èƒ½æ¨¡å‹
--max-examples 10                 # å¢åŠ ç¤ºä¾‹æ•°
--buffer-size 2000                # å¢å¤§buffer
--sampling-strategy diversity     # ä½¿ç”¨å¤šæ ·æ€§é‡‡æ ·
```

---

## ğŸ” è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹å®éªŒæ—¥å¿—
tail -f experiments/my_experiment/logs/experiment.log

# æ£€æŸ¥é…ç½®
cat experiments/my_experiment/config.json

# æŸ¥çœ‹ä¸­é—´ç»“æœ
cat experiments/my_experiment/results.json | jq '.checkpoints[-1]'

# éªŒè¯agentçŠ¶æ€
cat experiments/my_experiment/agent_state/final_state.json
```

---

**ä¿å­˜æ­¤æ–‡ä»¶ä»¥ä¾¿éšæ—¶å‚è€ƒï¼**

ğŸ“„ æ–‡ä»¶ä½ç½®ï¼š`D:\Desktop\work\tau2-bench\å‘½ä»¤é€ŸæŸ¥è¡¨.md`
